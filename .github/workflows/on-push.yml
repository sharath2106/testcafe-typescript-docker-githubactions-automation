name: Trigger E2E tests on push
on:
  push:
    branches: [main]

jobs:
  e2e-tests:
    runs-on: ubuntu-latest
    steps:
      - name: Check out the repository
        uses: actions/checkout@v1
      - name: Run tests
        uses: DevExpress/testcafe-action@latest
      - name: Build docker container
        run: docker build . -t e2e:v1
      - name: Run tests in docker container
        run: docker run -e BROWSER=chrome -e CATEGORY=sanity e2e:v1
